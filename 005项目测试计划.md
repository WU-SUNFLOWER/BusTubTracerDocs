# BusTubTracer 测试计划

开发小组：A7小组（BusTubTracer Project）

编写日期：2024.12.07

# 单元测试方案

根据详细设计文档，本项目采用"前后端分离"的形式进行开发。

为了验证本项目后端核心（`BusTubTracerCore`）在被构建后，其提供给前端（`BusTubTracerFront`）的各个请求接口是否能够按预期工作，加快后续前后端对接的速度，我们在后端源码`test/socket_server/test_cases`目录中提供了一系列的单元测试样例，并且实现了一个批量执行这些单元测试的脚本程序`test/socket_server/run_test_cases.js`

这些测试样例由Node.js代码编写，因此在进行测试前需要首先安装Node.js环境。Node.js版本号为22.11.0，与前端开发环境一致。

假设当前命令行定位在本仓库源码的根目录下，则批量进行单元测试的命令如下：

```shell
node test/socket_server/run_test_cases.js
```

执行该命令后，若所有单元测试全部执行完毕，且没有收到任何错误信息，则说明当前构建出来的后端核心提供的请求接口通过单元测试，其行为基本正确。

# 集成测试方案

在本项目中，"集成测试"指在前端和后端开发完毕并进行对接后，依照本项目已有详细设计文档中的既定软件功能设计，对本项目软件功能进行验证和测试。

鉴于本项目中主要展示了BusTub开源RDBMS系统中执行模块（Process）、存储模块（Storage）和索引模块（Index）的相关处理流程和内部数据结构，我们依照分模块的方式制定集成测试方案，依次验证我们的软件能否正确地响应用户操作，并展示针对各个模块的相关内容。

## Process层

### SELECT 语句

_____

#### 1.1 简单的SELECT查询

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC001                                                        |
| **测试目标**   | 验证 SELECT 查询能否正确从表中获取指定数据                   |
| **前提条件**   | 数据库连接正常且teacher表已创建                              |
| **输入数据**   | select name from teacher;                                    |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br>2.点击submit按钮。<br>3.点击跳转Process页面。<br>4.点击Planner Tree按钮，自动在中间窗口可视化。<br>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br>6.点击Optimized Planner Tree按钮。<br>7.依次点击可视化后的Optimized Planner Tree上的结点。<br>8.点击Executor Tree按钮。<br>9.依次点击可视化后的Executor Tree上的结点。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。<br>2.Process页面解锁。<br>3.Process页面中间窗口上方显示当前执行的sql语句。<br>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。<br>5.点击结点时，右侧有结点信息显示。(`expressions = [teacher.name]`) |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 1.2 带条件的SELECT查询

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC002                                                        |
| **测试目标**   | 验证 SELECT 查询是否能正确根据条件筛选数据                   |
| **前提条件**   | 数据库连接正常且teacher表已创建                              |
| **输入数据**   | select * from teacher where name = 'KDK';                    |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br>2.点击submit按钮。<br>3.点击跳转Process页面。<br>4.点击Planner Tree按钮，自动在中间窗口可视化。<br>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br>6.点击Optimized Planner Tree按钮。<br>7.依次点击可视化后的Optimized Planner Tree上的结点。<br>8.点击Executor Tree按钮。<br>9.依次点击可视化后的Executor Tree上的结点。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。<br>2.Process页面解锁。<br>3.Process页面中间窗口上方显示当前执行的sql语句。<br>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。<br>5.点击结点时，右侧有结点信息显示。<br>(expressions = [teacher.id,teacher.name,teacher.did],  predicate = (teacher.name=KDK)) |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 1.3 排序查询

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC003                                                        |
| **测试目标**   | 验证 SELECT 查询能否正确按指定列进行排序                     |
| **前提条件**   | 数据库连接正常且teacher表已创建                              |
| **输入数据**   | select * from teacher order by did desc;                     |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br>2. 点击submit按钮。<br>3. 点击跳转Process页面。<br>4.点击Planner Tree按钮，自动在中间窗口可视化。<br>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br>6.点击Optimized Planner Tree按钮。 <br>7.依次点击可视化后的Optimized Planner Tree上的结点。 <br>8.点击Executor Tree按钮。 <br>9.依次点击可视化后的Executor Tree上的结点。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。 <br>2.Process页面解锁。 <br>3.Process页面中间窗口上方显示当前执行的sql语句。 <br>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。 <br>5.点击结点时，右侧有结点信息显示。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

_____

#### 1.4 使用聚合函数查询

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC004                                                        |
| **测试目标**   | 验证 SELECT 查询能否正确使用聚合函数（如 COUNT、SUM）进行数据统计 |
| **前提条件**   | 数据库连接正常且teacher表已创建                              |
| **输入数据**   | select count(*) from teacher;                                |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br/>2. 点击submit按钮。<br/>3. 点击跳转Process页面。<br/>4.点击Planner Tree按钮，自动在中间窗口可视化。<br/>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br/>6.点击Optimized Planner Tree按钮。 <br/>7.依次点击可视化后的Optimized Planner Tree上的结点。 <br/>8.点击Executor Tree按钮。 <br/>9.依次点击可视化后的Executor Tree上的结点。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。 <br/>2.Process页面解锁。 <br/>3.Process页面中间窗口上方显示当前执行的sql语句。 <br/>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。 <br/>5.点击结点时，右侧有结点信息显示。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

_____

##### 1.5、连接查询

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC005                                                        |
| **测试目标**   | 验证 SELECT 查询能否正确执行多个表的连接查询（如 INNER JOIN、LEFT JOIN） |
| **前提条件**   | 数据库连接正常且teacher表已创建                              |
| **输入数据**   | select t.name,t.did,c.name,c.credit from teacher t inner join course c on t.id = c.id; |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br/>2. 点击submit按钮。<br/>3. 点击跳转Process页面。<br/>4.点击Planner Tree按钮，自动在中间窗口可视化。<br/>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br/>6.点击Optimized Planner Tree按钮。 <br/>7.依次点击可视化后的Optimized Planner Tree上的结点。 <br/>8.点击Executor Tree按钮。 <br/>9.依次点击可视化后的Executor Tree上的结点。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。 <br/>2.Process页面解锁。 <br/>3.Process页面中间窗口上方显示当前执行的sql语句。 <br/>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。 <br/>5.点击结点时，右侧有结点信息显示。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 1.6 Limit子句

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC006                                                        |
| **测试目标**   | 验证 SELECT 查询能否使用 LIMIT 限制返回的行数                |
| **前提条件**   | 数据库连接正常且teacher表已创建                              |
| **输入数据**   | select * from teacher limit 2;                               |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br/>2. 点击submit按钮。<br/>3. 点击跳转Process页面。<br/>4.点击Planner Tree按钮，自动在中间窗口可视化。<br/>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br/>6.点击Optimized Planner Tree按钮。 <br/>7.依次点击可视化后的Optimized Planner Tree上的结点。 <br/>8.点击Executor Tree按钮。 <br/>9.依次点击可视化后的Executor Tree上的结点。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。 <br/>2.Process页面解锁。 <br/>3.Process页面中间窗口上方显示当前执行的sql语句。 <br/>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。 <br/>5.点击结点时，右侧有结点信息显示。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 1.7 错误处理

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC007                                                        |
| **测试目标**   | 测试 SELECT 查询(SQL错误处理)                                |
| **前提条件**   | 数据库连接正常且teacher表已创建                              |
| **输入数据**   | select * form teacher ;                                      |
| **测试步骤**   | 1.在Home页面中输入框输入数据。 <br>2.点击submit按钮。        |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和报错信息。 <br>2.process页面不更新或不解锁。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

### INSERT 语句

_____

#### 2.1 正常插入数据

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC008                                                        |
| **测试目标**   | 验证是否能够正常插入数据到 teacher 表中                      |
| **前提条件**   | 数据库中存在teacher表。                                      |
| **输入数据**   | insert into teacher values (20, 'KOP', 19);                  |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br/>2. 点击submit按钮。<br/>3. 点击跳转Process页面。<br/>4.点击Planner Tree按钮，自动在中间窗口可视化。<br/>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br/>6.点击Optimized Planner Tree按钮。 <br/>7.依次点击可视化后的Optimized Planner Tree上的结点。 <br/>8.点击Executor Tree按钮。 <br/>9.依次点击可视化后的Executor Tree上的结点。<br>10.检查各页面的teacher数据表是否同步数据。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。 <br/>2.Process页面解锁。 <br/>3.Process页面中间窗口上方显示当前执行的sql语句。 <br/>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。 <br/>5.点击结点时，右侧有结点信息显示。<br>6.各个页面的相应数据表同步更新。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

_____

#### 2.2 插入重复主键数据

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC009                                                        |
| **测试目标**   | 验证在插入重复主键数据时，是否会提示错误信息                 |
| **前提条件**   | 数据库中存在teacher表，且表中有主键为20的元组                |
| **输入数据**   | insert into teacher values (20, 'KOP', 19);                  |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br>2. 点击submit按钮。        |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和报错信息。 <br/>2.process页面不更新或不解锁。<br>3.数据表不变化。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 2.3 插入数据类型不匹配

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC010                                                        |
| **测试目标**   | 验证插入不匹配数据类型时是否会提示错误信息                   |
| **前提条件**   | 数据库中存在teacher表，且表中有主键为20的元组                |
| **输入数据**   | insert into teacher values (20, KOP, 19);                    |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br> 2. 点击submit按钮。       |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和报错信息。  <br>2.process页面不更新或不解锁。<br>3.数据表不变化。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

_____

#### 2.4 插入违反非空约束的数据

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC011                                                        |
| **测试目标**   | 验证插入缺少非空字段时，系统是否会提示错误信息               |
| **前提条件**   | 数据库中存在teacher表，id为主键                              |
| **输入数据**   | insert into teacher values (null, 'KOP', 19);                |
| **测试步骤**   | 1.在Home页面中输入框输入数据。 <br>2. 点击submit按钮。       |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和报错信息。   <br>2.process页面不更新或不解锁。 <br>3.数据表不变化。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 2.5 插入多条数据

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC012                                                        |
| **测试目标**   | 验证是否可以一次插入多条数据                                 |
| **前提条件**   | 数据库中存在teacher表                                        |
| **输入数据**   | insert into teacher values (20, 'KOP', 19),(21,'ZYC',20);    |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br/>2. 点击submit按钮。<br/>3. 点击跳转Process页面。<br/>4.点击Planner Tree按钮，自动在中间窗口可视化。<br/>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br/>6.点击Optimized Planner Tree按钮。 <br/>7.依次点击可视化后的Optimized Planner Tree上的结点。 <br/>8.点击Executor Tree按钮。 <br/>9.依次点击可视化后的Executor Tree上的结点。<br>10.检查各页面的teacher数据表是否同步数据。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。 <br/>2.Process页面解锁。 <br/>3.Process页面中间窗口上方显示当前执行的sql语句。 <br/>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。 <br/>5.点击结点时，右侧有结点信息显示。<br>6.各个页面的teacher数据表同步更新。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

### DELETE 语句

____

#### 3.1 删除单条记录

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC013                                                        |
| **测试目标**   | 测试 DELETE语句是否能正确删除表中的单条记录。                |
| **前提条件**   | 数据库中存在teacher表，存在id = 1的记录。                    |
| **输入数据**   | delete from teacher where id = 1;                            |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br/>2. 点击submit按钮。<br/>3. 点击跳转Process页面。<br/>4.点击Planner Tree按钮，自动在中间窗口可视化。<br/>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br/>6.点击Optimized Planner Tree按钮。 <br/>7.依次点击可视化后的Optimized Planner Tree上的结点。 <br/>8.点击Executor Tree按钮。 <br/>9.依次点击可视化后的Executor Tree上的结点。<br/>10.检查各页面的teacher数据表是否同步数据 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。 <br/>2.Process页面解锁。 <br/>3.Process页面中间窗口上方显示当前执行的sql语句。 <br/>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。 <br/>5.点击结点时，右侧有结点信息显示。<br/>6.各个页面的teacher数据表同步更新。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 3.2 删除多个记录（按条件）

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC014                                                        |
| **测试目标**   | 测试 DELETE语句是否能根据指定条件删除多个记录。              |
| **前提条件**   | 数据库中存在teacher表，存在多条记录。                        |
| **输入数据**   | delete from teacher where id > 1;                            |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br/>2. 点击submit按钮。<br/>3. 点击跳转Process页面。<br/>4.点击Planner Tree按钮，自动在中间窗口可视化。<br/>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br/>6.点击Optimized Planner Tree按钮。 <br/>7.依次点击可视化后的Optimized Planner Tree上的结点。 <br/>8.点击Executor Tree按钮。 <br/>9.依次点击可视化后的Executor Tree上的结点。<br/>10.检查各页面的teacher数据表是否同步数据 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。 <br/>2.Process页面解锁。 <br/>3.Process页面中间窗口上方显示当前执行的sql语句。 <br/>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。 <br/>5.点击结点时，右侧有结点信息显示。<br/>6.各个页面的teacher数据表同步更新。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 3.3 删除不存在的记录

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC015                                                        |
| **测试目标**   | 测试DELETE语句删除不存在的记录时的行为。                     |
| **前提条件**   | 数据库中存在teacher表，不存在id = 999的记录。                |
| **输入数据**   | delete from teacher where id = 999;                          |
| **测试步骤**   | 1.在Home页面中输入框输入数据。<br/>2. 点击submit按钮。<br/>3. 点击跳转Process页面。<br/>4.点击Planner Tree按钮，自动在中间窗口可视化。<br/>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。<br/>6.点击Optimized Planner Tree按钮。 <br/>7.依次点击可视化后的Optimized Planner Tree上的结点。 <br/>8.点击Executor Tree按钮。 <br/>9.依次点击可视化后的Executor Tree上的结点。<br/>10.检查各页面的teacher数据表是否变化 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。 <br/>2.Process页面解锁。 <br/>3.Process页面中间窗口上方显示当前执行的sql语句。 <br/>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。 <br/>5.点击结点时，右侧有结点信息显示。<br/>6.各个页面的teacher数据表不变。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 3.4 删除所有记录

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC016                                                        |
| **测试目标**   | 测试DELETE语句是否能正确删除表中的所有记录。                 |
| **前提条件**   | 数据库中存在teacher表，且该表存在多条记录。                  |
| **输入数据**   | delete from teacher;                                         |
| **测试步骤**   | 1.在Home页面中输入框输入数据。 <br>2. 点击submit按钮。 <br>3. 点击跳转Process页面。<br>4.点击Planner Tree按钮，自动在中间窗口可视化。 <br>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。 <br>6.点击Optimized Planner Tree按钮。  <br>7.依次点击可视化后的Optimized Planner Tree上的结点。  <br>8.点击Executor Tree按钮。  <br>9.依次点击可视化后的Executor Tree上的结点。 <br>10.检查各页面的teacher数据表是否变化 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。  <br>2.Process页面解锁。  <br>3.Process页面中间窗口上方显示当前执行的sql语句。  <br>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。  <br>5.点击结点时，右侧有结点信息显示。 <br>6.各个页面的teacher数据表无记录。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 3.5 删除时检查外键约束

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC017                                                        |
| **测试目标**   | 测试DELETE语句在有外键约束的情况下的行为。                   |
| **前提条件**   | teacher表存在外键约束，并且 id = 1被其他表（如 courses）引用。。 |
| **输入数据**   | delete from teacher where id = 1;                            |
| **测试步骤**   | 1.在Home页面中输入框输入数据。 <br/>2. 点击submit按钮。 <br/>3. 点击跳转Process页面。<br/>4.点击Planner Tree按钮，自动在中间窗口可视化。 <br/>5.依次点击可视化后的Planner Tree上的结点，自动在右侧显示结点信息。 <br/>6.点击Optimized Planner Tree按钮。  <br/>7.依次点击可视化后的Optimized Planner Tree上的结点。  <br/>8.点击Executor Tree按钮。  <br/>9.依次点击可视化后的Executor Tree上的结点。 <br/>10.验证数据库是否抛出外键约束错误，或者是否触发级联删除。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。  <br>2.Process页面解锁。   <br>3.Process页面中间窗口上方显示当前执行的sql语句。   <br>4.Planner Tree,Optimized Planner Tree,Executor Tree成功可视化。   <br>5.点击结点时，右侧有结点信息显示。  <br>6.根据外键约束设置，操作可能失败或触发级联删除。。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

_____

### Storage层

#### 4.1 创建表实例

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC018                                                        |
| **测试目标**   | 验证能否创建新数据表。                                       |
| **前提条件**   | 数据库正确连接。                                             |
| **输入数据**   | create table persons (<br/>personid int,<br/>lastname varchar(255),<br/>firstname varchar(255),<br/>address varchar(255),<br/>city varchar(255)<br/>); |
| **测试步骤**   | 1.在Home页面中输入框输入数据。  <br>2.点击submit按钮。<br>3.检查各页面是否有数据表信息。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。<br>2.各页面出现新数据表的信息。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 4.2 数据表搜索

| 项目           | 说明                             |
| -------------- | -------------------------------- |
| **测试用例ID** | TC019                            |
| **测试目标**   | 验证搜索框模糊搜索数据表。       |
| **前提条件**   | 数据库正确连接，且有多个数据表。 |
| **输入数据**   | teacher                          |
| **测试步骤**   | 在Storage页面中搜索框输入数据。  |
| **预期结果**   | 在Catalog里显示模糊搜索结果。    |
| **实际结果**   |                                  |
| **状态**       |                                  |
| **测试人**     |                                  |
| **评定人**     |                                  |
| **备注**       |                                  |

____

#### 4.3 数据表元信息显示

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC020                                                        |
| **测试目标**   | 验证数据表元信息的显示。                                     |
| **前提条件**   | 数据库正确连接，且有多个数据表。                             |
| **输入数据**   | 无                                                           |
| **测试步骤**   | 单击Catalog中任意数据表记录。                                |
| **预期结果**   | 1.在Table Content中显示相应数据表元信息。<br>2.在中间窗口上方显示当前选择的数据表名。<br>3.在Table Info窗口显示相应数据表信息。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 4.4 数据表信息显示

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC021                                                        |
| **测试目标**   | 验证数据表相关信息的显示，和面包屑导航的主要功能。           |
| **前提条件**   | 数据库正确连接，且有多个数据表。                             |
| **输入数据**   | 无                                                           |
| **测试步骤**   | 1.单击Catalog中任意数据表。<br>2.初始化时检查路径显示：验证面包屑是否正确显示当前路径。<br>3.点击面包屑的每一项并验证页面是否跳转到正确的路径。<br>4.检查面包屑是否能随着路径变化动态更新。<br>5.验证面包屑是否支持多层级路径. |
| **预期结果**   | 1.在Table Info窗口显示相应数据表信息。<br>2.面包屑路径动态更新，单击每一项页面能正确跳转。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 4.5 buffer pool信息显示

| 项目           | 说明                                                       |
| -------------- | ---------------------------------------------------------- |
| **测试用例ID** | TC022                                                      |
| **测试目标**   | 验证buffer pool相关信息的显示。                            |
| **前提条件**   | 数据库正确连接。                                           |
| **输入数据**   | 无                                                         |
| **测试步骤**   | 1.进入storage页面，查看buffer pool信息。<br>2.滑动滚动条。 |
| **预期结果**   | buffer pool信息正确显示。                                  |
| **实际结果**   |                                                            |
| **状态**       |                                                            |
| **测试人**     |                                                            |
| **评定人**     |                                                            |
| **备注**       |                                                            |

_____

### Index层

#### 5.1 创建索引实例

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC023                                                        |
| **测试目标**   | 验证能否为数据表创建索引。                                   |
| **前提条件**   | 数据库正确连接，且有多个数据表。                             |
| **输入数据**   | create index teacher_did_index on teacher (did);             |
| **测试步骤**   | 1.在Home页面中输入框输入数据。 <br/>2.点击submit按钮。 <br/>3.验证teacher数据表索引信息是否更新。 |
| **预期结果**   | 1.在Home页面下方显示输入的sql命令和执行结果。  <br/>2.在index页面下teacher表的索引信息更新。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 5.2 表索引搜索

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC024                                                        |
| **测试目标**   | 验证表索引搜索功能。                                         |
| **前提条件**   | 数据库正确连接，且有多个数据表。                             |
| **输入数据**   | 无                                                           |
| **测试步骤**   | 1.在index页面Catalog搜索框中搜索teacher。<br>2.单击某一搜索记录。 |
| **预期结果**   | 1.Catalog中显示模糊搜索的结果。<br>2.在Table Index页面中显示所选表的索引信息。<br>3.在Table Content页面中显示所选表的记录信息。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |

____

#### 5.3 B+树信息显示

| 项目           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| **测试用例ID** | TC025                                                        |
| **测试目标**   | 验证B+树相关信息的显示。                                     |
| **前提条件**   | 数据库正确连接，且有多个数据表，表中包含索引。               |
| **输入数据**   | 无                                                           |
| **测试步骤**   | 1.在index页面Catalog页面中单击teacher表。 <br>2.在Table Index页面中单击某一索引，自动在右侧绘画出该索引的B+树结构。<br>3.选中B+树某一结点，在下方显示该结点信息。<br>4.点击叶子结点Key-Value记录。 |
| **预期结果**   | 1.Catalog中显示模糊搜索的结果。 <br>2.在Table Index页面中显示所选表的索引信息。 <br>3.在Table Content页面中显示所选表的记录信息。<br>4.B+树正确绘画。<br>5.B+树结点相关信息正确显示。<br>6.叶子结点Key-Value记录与Table Content的记录正确对应。 |
| **实际结果**   |                                                              |
| **状态**       |                                                              |
| **测试人**     |                                                              |
| **评定人**     |                                                              |
| **备注**       |                                                              |